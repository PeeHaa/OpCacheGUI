<?php
$status      = new OpCacheGUI\OpCache\Status($this->byteFormatter, opcache_get_status());
$classCycler = new OpCacheGUI\Presentation\ClassCycler(['odd', 'even']);
?>

<article class="cols-3 first">
    <h2>
        <?= $this->translator->translate('status.title'); ?>
        <form action="<?= $this->url->get('reset'); ?>" method="post" id="reset" data-confirmation="<?= $this->translator->translate('confirmation.reset'); ?>" data-yes="<?= $this->translator->translate('confirmation.yes'); ?>" data-no="<?= $this->translator->translate('confirmation.no'); ?>">
            <input type="hidden" name="csrfToken" value="<?= $this->csrfToken->get(); ?>">
            <input type="submit" name="submit" value="<?= $this->translator->translate('reset.submit'); ?>">
        </form>
    </h2>
    <table>
        <?php foreach ($status->getStatusInfo() as $key => $statusItem) { ?>
            <tr class="<?= $classCycler->next(); ?>">
                <th><?= $this->translator->translate('status.' . $key); ?></th>
                <td><div class='sprite bullet-<?= $statusItem ? 'green' : 'red'; ?>-icon'></div></td>
            </tr>
        <?php } ?>
    </table>
</article>
<article class="cols-3">
    <h2><?= $this->translator->translate('memory.title'); ?></h2>
    <table>
        <?php $classCycler->rewind(); ?>
        <?php foreach ($status->getMemoryInfo() as $key => $memoryItem) { ?>
            <tr class="<?= $classCycler->next(); ?>">
                <th><?= $this->translator->translate('memory.' . $key); ?></th>
                <td><?= $memoryItem; ?></td>
            </tr>
        <?php } ?>
    </table>
</article>
<article class="cols-3">
    <h2><?= $this->translator->translate('stats.title'); ?></h2>
    <table>
        <?php $classCycler->rewind(); ?>
        <?php foreach ($status->getStatsInfo() as $key => $statisticItem) { ?>
            <tr class="<?= $classCycler->next(); ?>">
                <th><?= $this->translator->translate('stats.' . $key); ?></th>
                <td><?= $statisticItem; ?></td>
            </tr>
        <?php } ?>
    </table>
</article>
